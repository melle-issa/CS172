{
    "title": "WordPress block development: Building multiple blocks | WebberZone",
    "body": "     Skip to content  WebberZoneHomeAboutBlogPluginsContextual Related PostsTop 10 \u2013 WordPress Popular Posts pluginAll WordPress Plugins \u00bbAddonsSupportKnowledge BaseContact     Search for...             WebberZone       Navigation Menu HomeAboutBlogPluginsContextual Related PostsTop 10 \u2013 WordPress Popular Posts pluginAll WordPress Plugins \u00bbAddonsSupportKnowledge BaseContactWordPress block development:\u00a0Building multiple blocksby AjayApril 20, 2023April 20, 2023WordPress TutorialsThis is the fifth part of my Gutenberg block development tutorial series. In the past four chapters, we\u2019ve learnt how to build static and dynamic blocks, add custom settings and change styles.Many of my plugins contained a single block which served as an alternative to the shortcode. However, I did need to build two blocks for my Knowledge Base plugin.In this article, I\u2019ll explain how you can build multiple blocks in a single plugin. I\u2019ll assume you\u2019ve already gone through the first parts of the tutorial or already have a few blocks which you want to merge under a single plugin.Table of ContentsStep 0: Create your blocksStep 1: Move the blocks into their foldersStep 2: Update package.jsonStep 3: Update the block registration functionStep 4: Add the render_callback functions from the dynamic-blocks pluginStep 5: Optionally change the name of your pluginIn conclusion and what's nextThe code on GitHubBonus: Sample repository of my blocksSourcesStep 0: Create your blocksUse the @wordpress/create-block tool to create the plugins. For this tutorial, I\u2019ll assume that you\u2019ve already created the static block and the dynamic block.Let\u2019s use the dynamic block repository as the base plugin and we\u2019ll merge the static block with it. We\u2019ll also update the package.json to allow us to run the npm builds independently. This is useful when you want to modify a single block and don\u2019t want all the blocks to be updated by the script.Step 1: Move the blocks into their foldersCreate a new folder blocks in the plugin folder. Move the src folder from the basic-block plugin into it and rename it to static. Repeat the same with the dynamic plugin\u2019s src, calling the new folder dynamic. We don\u2019t need to move the build folders as these are automatically created when we run the scripts package.If you\u2019re building a multiple-block plugin from scratch, you can also run the following function in the folder you want to create the blocks.npx @wordpress/create-block --no-pluginYour folder structure will look like this:Multiple blocks folder structureStep 2: Update package.jsonThe latest version of @wordpress/scripts will scan all the block.json files in your src directory. We can create custom run and build scripts by updating the scripts attribute in package.json to include these:\"scripts\": {\n\t\"start\": \"wp-scripts start --webpack-src-dir=blocks/src/ --output-path=blocks/build/\",\n\t\"build\": \"wp-scripts build --webpack-src-dir=blocks/src/ --output-path=blocks/build/\",\n\t\"start:static\": \"wp-scripts start --webpack-src-dir=blocks/src/static --output-path=blocks/build/static\",\n\t\"build:static\": \"wp-scripts build --webpack-src-dir=blocks/src/static --output-path=blocks/build/static\",\n\t\"start:dynamic\": \"wp-scripts start --webpack-src-dir=blocks/src/dynamic --output-path=blocks/build/dynamic\",\n\t\"build:dynamic\": \"wp-scripts build --webpack-src-dir=blocks/src/dynamic --output-path=blocks/build/dynamic\"\n}In the above update, we create new start and build scripts as well as update the original ones as above. These use the two parameters:--webpack-src-dir which specifies the relative path to the source of the scripts--output-path which specifies where we want our build files to be savedIn the future we can run npm build:static to run the rebuild script for the static block. And similarly for the dynamic block. You can also run npm build to build all the blocks at the same time.Step 3: Update the block registration functionWhile you can add multiple calls to register_block_type for each block to register, I prefer using the following code to register multiple blocks. This allows me the flexibility to add additional blocks in the future with the flexibility of having a render_callback attribute passed.function wz_multiple_blocks_register_blocks() {\n\n\t// Register blocks in the format $dir => $render_callback.\n\t$blocks = array(\n\t\t'dynamic' => 'wz_tutorial_dynamic_block_recent_posts', // Dynamic block with a callback.\n\t\t'static'  => '', // Static block. Doesn't need a callback.\n\t);\n\n\tforeach ( $blocks as $dir => $render_callback ) {\n\t\t$args = array();\n\t\tif ( ! empty( $render_callback ) ) {\n\t\t\t$args['render_callback'] = $render_callback;\n\t\t}\n\t\tregister_block_type( __DIR__ . '/blocks/build/' . $dir, $args );\n\t}\n}\nadd_action( 'init', 'wz_multiple_blocks_register_blocks' );Step 4: Add the render_callback functions from the dynamic-blocks pluginIf you\u2019re merging the plugins as per the above tutorial, you will need to add the wz_tutorial_dynamic_block_recent_posts() function we created in WordPress block development:\u00a0Building dynamic blocks.Step 5: Optionally change the name of your pluginIf you\u2019re following this tutorial series, you might want to change the name of the plugin details by updating the main plugin file and the readme.txt.In conclusion and what\u2019s nextMultiple blocks plugin outputThis concludes my Gutenberg Block Development Tutorial series. By now, you should have learned how to create both static and dynamic blocks, add settings to your sidebar, and add multiple blocks within the same plugin.I continue to explore Gutenberg, both as a developer and a user. So, this doesn\u2019t mark the end of my development tutorials.If you found this series helpful, consider subscribing to my newsletter and following @ajaydsouza and @WebberZone on Twitter to stay informed.The code on GitHubYou can view and download the Multiple blocks plugin example on GitHub.Bonus: Sample repository of my blocksI continue to manage and update blocks for my different plugins in their individual repositories. While it adds an additional step, I find it straightforward to maintain and make necessary changes.You can view the source code in GitHub.SourcesThese are a few sources that helped me to write this tutorial.@wordpress/create-block packageBuilding Custom Gutenberg BlocksHow to create a (multiple) block plugin for WordPressAdding Multiple Blocks to a WordPress Plugin in a few steps (video) Related Posts:Knowledge Base v2.1.0WordPress block development:\u00a0Building dynamic blocksThe first steps in WordPress block developmentKnowledge Base v2.0.1Tags:blocksdevelopmentgutenbergtutorialwordpresspreviousBetter Search v3.2.1nextKnowledge Base v2.2.0Leave a Reply Cancel replyYour email address will not be published. Required fields are marked *Comment *Name * Email *  Sign up to receive updates from WebberZone (recommended)  \u0394This site uses Akismet to reduce spam. Learn how your comment data is processed.  Search for...          Subscribe to our newsletterPopular Posts this weekWordPress Block Development: Customising the\u2026WordPress block development:\u00a0Building multiple blocksThe first steps in WordPress block developmentWordPress block development:\u00a0Building dynamic blocksKnowledge Base v2.2.0Better Search v2.2.0 brings the Settings APIKnowledgebase v1.3.0Contextual Related Posts v2.2.0Top 10 v2.4.1CRP Taxonomy Tools v1.2.0Recent Posts Knowledge Base v2.2.0 WordPress block development:\u00a0Building multiple blocks Better Search v3.2.1 WordPress block development:\u00a0Building dynamic blocks WordPress Block Development: Customising the Settings SidebarFollow WebberZoneHomeAboutBlogPluginsSupportContactNeve | Powered by WordPress             \n",
    "links": [
        "#content",
        "https://webberzone.com/",
        "https://webberzone.com/",
        "https://webberzone.com/about/",
        "https://webberzone.com/blog/",
        "https://webberzone.com/plugins/",
        "https://webberzone.com/plugins/contextual-related-posts/",
        "https://webberzone.com/plugins/top-10/",
        "https://webberzone.com/plugins/",
        "https://webberzone.com/downloads/",
        "https://webberzone.com/support/",
        "https://webberzone.com/support/knowledgebase/",
        "https://webberzone.com/contact/",
        "#",
        "https://webberzone.com/",
        "https://webberzone.com/",
        "https://webberzone.com/about/",
        "https://webberzone.com/blog/",
        "https://webberzone.com/plugins/",
        "https://webberzone.com/plugins/contextual-related-posts/",
        "https://webberzone.com/plugins/top-10/",
        "https://webberzone.com/plugins/",
        "https://webberzone.com/downloads/",
        "https://webberzone.com/support/",
        "https://webberzone.com/support/knowledgebase/",
        "https://webberzone.com/contact/",
        "https://webberzone.com/blog/author/ajay-dsouza/",
        "https://webberzone.com/blog/category/wordpress/wordpress-tutorials/",
        "https://webberzone.com/blog/gutenberg-block-development-tutorial/",
        "https://webberzone.com/plugins/knowledgebase/",
        "#step-0-create-your-blocks",
        "#step-1-move-the-blocks-into-their-folders",
        "#step-2-update-packagejson",
        "#step-3-update-the-block-registration-function",
        "#step-4-add-the-rendercallback-functions-from-the-dynamicblocks-plugin",
        "#step-5-optionally-change-the-name-of-your-plugin",
        "#in-conclusion-and-whats-next",
        "#the-code-on-github",
        "#bonus-sample-repository-of-my-blocks",
        "#sources",
        "https://developer.wordpress.org/block-editor/reference-guides/packages/packages-create-block/",
        "https://webberzone.com/blog/gutenberg-block-development-tutorial/#step-2-using-wordpresscreateblock",
        "https://webberzone.com/blog/wordpress-block-development-building-the-block/",
        "https://webberzone.com/blog/gutenberg-dynamic-blocks/",
        "https://developer.wordpress.org/block-editor/reference-guides/packages/packages-scripts/",
        "https://webberzone.com/blog/gutenberg-dynamic-blocks/",
        "http://first steps",
        "https://twitter.com/ajaydsouza",
        "https://twitter.com/WebberZone",
        "https://github.com/WebberZone/tutorials/tree/main/gutenberg-block-development-tutorial/multiple-blocks-v0.1.0",
        "https://github.com/WebberZone/tutorials/tree/main/gutenberg-block-development-tutorial/multiple-blocks-v0.1.0",
        "https://github.com/WebberZone/tutorials/tree/main/gutenberg-block-development-tutorial/multiple-blocks-v0.1.0",
        "https://github.com/WebberZone/wz-blocks",
        "https://www.npmjs.com/package/@wordpress/create-block",
        "https://kinsta.com/blog/gutenberg-blocks/",
        "https://dev.to/rmorse/how-to-create-a-multiple-block-plugin-for-wordpress-mpm",
        "https://www.youtube.com/watch?v=O_4loYiEcbg",
        "https://webberzone.com/blog/knowledge-base-v2-1-0/",
        "https://webberzone.com/blog/gutenberg-dynamic-blocks/",
        "https://webberzone.com/blog/gutenberg-block-development-tutorial/",
        "https://webberzone.com/blog/knowledge-base-v2-0-0/",
        "https://webberzone.com/blog/tag/blocks/",
        "https://webberzone.com/blog/tag/development/",
        "https://webberzone.com/blog/tag/gutenberg/",
        "https://webberzone.com/blog/tag/tutorial/",
        "https://webberzone.com/blog/tag/wordpress/",
        "https://webberzone.com/blog/better-search-v3-2-0/",
        "https://webberzone.com/blog/knowledge-base-v2-2-0/",
        "/blog/wordpress-block-development-building-multiple-blocks/#respond",
        "https://akismet.com/privacy/",
        "https://webberzone.com/blog/wordpress-block-development-customising-the-settings-sidebar/",
        "https://webberzone.com/blog/wordpress-block-development-building-multiple-blocks/",
        "https://webberzone.com/blog/gutenberg-block-development-tutorial/",
        "https://webberzone.com/blog/gutenberg-dynamic-blocks/",
        "https://webberzone.com/blog/knowledge-base-v2-2-0/",
        "https://webberzone.com/blog/better-search-v2-2-0-brings-the-settings-api/",
        "https://webberzone.com/blog/knowledgebase-v1-3-0/",
        "https://webberzone.com/blog/contextual-related-posts-v2-2-0/",
        "https://webberzone.com/blog/top-10-v2-4-0/",
        "https://webberzone.com/blog/crp-taxonomy-tools-v1-2-0/",
        "https://webberzone.com/blog/knowledge-base-v2-2-0/",
        "https://webberzone.com/blog/wordpress-block-development-building-multiple-blocks/",
        "https://webberzone.com/blog/better-search-v3-2-0/",
        "https://webberzone.com/blog/gutenberg-dynamic-blocks/",
        "https://webberzone.com/blog/wordpress-block-development-customising-the-settings-sidebar/",
        "https://webberzone.com/feed/",
        "https://www.facebook.com/WebberZone",
        "https://www.linkedin.com/company/webberzone",
        "https://twitter.com/WebberZone",
        "https://github.com/WebberZone",
        "https://profiles.wordpress.org/webberzone",
        "https://webberzone.com/",
        "https://webberzone.com/about/",
        "https://webberzone.com/blog/",
        "https://webberzone.com/plugins/",
        "https://webberzone.com/support/",
        "https://webberzone.com/contact/",
        "https://themeisle.com/themes/neve/",
        "http://wordpress.org",
        "#"
    ]
}